turnTime=1700;var newGame=function(e){var t=$("#actions");var n=function(e,t){if(e==2*t||t==2*e){return true}return false};var r=function(e,t){var n=false,r=0;for(var i=0;i<e;i++){var s=Math.floor(Math.random()*t)+1;$("#dice").append('<img width="64px" src="die'+s+'.png" />');if(s==1){n=true}r+=s}if(n){$("#out").addClass("em");return 1}return r};var i=function(e,t,n){$(".rule").removeClass("em");$("#dice").empty();if(e==0){$("#bacon").addClass("em");turn_score=Math.max(Math.floor(t/10),t%10)+1}else{turn_score=r(e,n)}return turn_score};var s=function(r,s,a,f){var l=i(a,s,f);t.text("You rolled "+a+" time(s) and scored "+l+" point(s)");r+=l;if(n(r,s)){$("#swine").addClass("em");tmp=s;s=r;r=tmp}$("#score").text(r);$("#opp").text(s);setTimeout(function(){if(Math.max(r,s)<e){o(r,s)}else{u(r,s)}},turnTime)};var o=function(r,s){var o=a(r,s);var l=i(5,r,o);t.text("Your opponent rolled "+o+"-sided dice 5 time(s) and scored "+l+" point(s)");s+=l;if(n(r,s)){$("#swine").addClass("em");tmp=s;s=r;r=tmp}$("#score").text(r);$("#opp").text(s);setTimeout(function(){if(Math.max(r,s)<e){f(r,s)}else{u(r,s)}},turnTime)};var u=function(e,n){if(e>n){t.text("You win!")}else{t.text("Your opponent won.")}};var a=function(e,t){if((e+t)%7==0){$("#wild").addClass("em");return 4}return 6};var f=function(e,n){t.empty();var r=a(e,n);t.text("How many "+r+"-sided dice will you roll? ");for(var i=0;i<=10;i++){t.append(l(e,n,i,r,t))}};var l=function(e,t,n,r,i){var o=$("<button>"+n+"</button>");o.click(function(o){i.empty();s(e,t,n,r)});return o};f(0,0)};$(document).ready(function(){newGame(100)})
