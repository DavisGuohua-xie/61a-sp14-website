turnTime=1700;var newGame=function(g){var e=$("#actions"),h=function(c,b,a){$(".rule").removeClass("em");if(0==c)$("#bacon").addClass("em"),$("#dice").empty(),turn_score=Math.floor(b/10)+b%10+1;else{b=!1;var d=0;$("#dice").empty();for(var e=0;e<c;e++){var f=Math.floor(Math.random()*a)+1;$("#dice").append('<img width="64px" src="die'+f+'.png" />');1==f&&(b=!0);d+=f}b?($("#out").addClass("em"),turn_score=1):turn_score=d;a:if(a=2,turn_score<a)a=!1;else{for(;a*a<=turn_score;){if(0==turn_score%a){a=!1;break a}a+=1}a=!0}a&&($("#ham").addClass("em"),turn_score=5*c)}return turn_score},n=function(c,b,a,d){d=h(a,b,d);e.text("You rolled "+a+" time(s) and scored "+d+" point(s)");c+=d;$("#score").text(c);setTimeout(function(){c<g?m(c,b):e.text("You win!")},turnTime)},m=function(c,b){var a=k(c,b),d=h(5,c,a);e.text("Your opponent rolled "+a+"-sided dice 5 time(s) and scored "+d+" point(s)");b+=d;$("#opp").text(b);setTimeout(function(){b<g?l(c,b):e.text("Your opponent won.")},turnTime)},k=function(c,b){return 0==(c+b)%7?($("#wild").addClass("em"),4):6},l=function(c,b){e.empty();var a=k(c,b);e.text("How many "+a+" sided dice will you roll? ");for(var d=0;10>=d;d++)e.append(p(c,b,d,a,e))},p=function(c,b,a,d,e){var f=$("<button>"+a+"</button>");f.click(function(f){e.empty();n(c,b,a,d)});return f};l(0,0)};$(document).ready(function(){newGame(100)});
